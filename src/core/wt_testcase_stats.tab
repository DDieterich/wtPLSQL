
--
--  Test Runs Statistics Table Installation
--

create table wt_testcase_stats
   (test_run_id         number(38)   constraint wt_testcase_stats_nn1 not null
   ,testcase            varchar2(50) constraint wt_testcase_stats_nn2 not null
   ,test_yield          number
   ,asserts             number
   ,passes              number
   ,failures            number
   ,errors              number
   ,min_interval_msecs  number
   ,avg_interval_msecs  number
   ,max_interval_msecs  number
   ,tot_interval_msecs  number
   ,constraint wt_testcase_stats_pk primary key (test_run_id, testcase)
   ,constraint wt_testcase_stats_fk1 foreign key (test_run_id)
       references wt_test_runs (id)
   ) pctfree 0;

comment on table wt_testcase_stats is 'Test Run data statistics for each testcase in the execution of the WTPLSQL_RUN procedure.';
comment on column wt_testcase_stats.test_run_id is 'Primary (Surrogate) Key for each Test Run. Also the Test Runs Foreign Key.';
comment on column wt_testcase_stats.testcase is 'Primary Key (part 2). The testcase name';
comment on column wt_testcase_stats.test_yield is 'Ratio of successful assertions to total assertions.';
comment on column wt_testcase_stats.asserts is 'Total number of assetions for the testcase.';
comment on column wt_testcase_stats.passes is 'Number of passed assertions for the testcase.';
comment on column wt_testcase_stats.failures is 'Number of failed assertions for the testcase.';
comment on column wt_testcase_stats.errors is 'Number of errored assertions for the testcase.';
comment on column wt_testcase_stats.min_interval_msecs is 'Minimum interval time between assertions in milliseconds for the testcase';
comment on column wt_testcase_stats.avg_interval_msecs is 'Average interval time between assertions in milliseconds for the testcase';
comment on column wt_testcase_stats.max_interval_msecs is 'Maximum interval time between assertions in milliseconds for the testcase';
comment on column wt_testcase_stats.tot_interval_msecs is 'Total (sum) of interval times between assertions in milliseconds for the testcase';

grant select on wt_testcase_stats to public;
grant delete on wt_testcase_stats to public;
