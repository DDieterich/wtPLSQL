
--
--  Test Runs Statistics Table Installation
--

create table wt_test_run_stats
   (test_run_id         number(38)  constraint wt_test_run_stats_nn1 not null
   ,asserts             number
   ,passes              number
   ,failures            number
   ,errors              number
   ,testcases           number
   ,tot_elapsed_msecs   number
   ,min_elapsed_msecs   number
   ,max_elapsed_msecs   number
   ,source_lines        number
   ,executed_lines      number
   ,annotated_lines     number
   ,excluded_lines      number
   ,notexec_lines       number
   ,unknown_lines       number
   ,tot_executed_usecs  number
   ,min_executed_usecs  number
   ,max_executed_usecs  number
   ,constraint wt_test_run_stats_pk primary key (test_run_id)
   ,constraint wt_test_run_stats_fk1 foreign key (test_run_id)
       references wt_test_runs (id)
   ) pctfree 0;

comment on table wt_test_run_stats is 'Test Run data statistics for each execution of the WTPLSQL_RUN procedure.';
comment on column wt_test_run_stats.test_run_id is 'Primary (Surrogate) Key for each Test Run. Also the Test Runs foreign key.';
comment on column wt_test_run_stats.asserts is 'Total number of assetions.';
comment on column wt_test_run_stats.passes is 'Number of passed assertions.';
comment on column wt_test_run_stats.failures is 'Number of failed assertions.';
comment on column wt_test_run_stats.errors is 'Number of errored assertions.';
comment on column wt_test_run_stats.testcases is 'Total number of test cases.';
comment on column wt_test_run_stats.tot_elapsed_msecs is 'Total (Sum) of elapsed times between assertions in milliseconds';
comment on column wt_test_run_stats.min_elapsed_msecs is 'Minimum elapsed time between assertions in milliseconds';
comment on column wt_test_run_stats.max_elapsed_msecs is 'Maximum elapsed time between assertions in milliseconds';
comment on column wt_test_run_stats.source_lines is 'Total number of source lines as counted by DBMS_PROFILER';
comment on column wt_test_run_stats.executed_lines is 'Number of source lines executed';
comment on column wt_test_run_stats.annotated_lines is 'Number of source lines annotated as uncountable';
comment on column wt_test_run_stats.excluded_lines is 'Number of source lines excluded due to unexplained DBMS_PROFILER metrics';
comment on column wt_test_run_stats.notexec_lines is 'Number of source lines not executed';
comment on column wt_test_run_stats.unknown_lines is 'Number of source lines that have unexplained DBMS_PROFILER metrics';
comment on column wt_test_run_stats.tot_executed_usecs is 'Total (Sum) of execution times for a line of source in microseconds';
comment on column wt_test_run_stats.min_executed_usecs is 'Minumum execution time for a line of source in microseconds';
comment on column wt_test_run_stats.max_executed_usecs is 'Maximum execution time for a line of source in microseconds';

grant select on wt_test_run_stats to public;
grant delete on wt_test_run_stats to public;
