
--
--  Test Runs Statistics Table Installation
--

create table wt_test_run_stats
   (test_run_id         number(38)  constraint wt_test_run_stats_nn1 not null
   ,test_yield          number
   ,asserts             number
   ,passes              number
   ,failures            number
   ,errors              number
   ,testcases           number
   ,min_interval_msecs  number
   ,avg_interval_msecs  number
   ,max_interval_msecs  number
   ,tot_interval_msecs  number
   ,code_coverage       number
   ,profiled_lines      number
   ,executed_lines      number
   ,ignored_lines       number
   ,excluded_lines      number
   ,notexec_lines       number
   ,unknown_lines       number
   ,min_executed_usecs  number
   ,avg_executed_usecs  number
   ,max_executed_usecs  number
   ,tot_executed_usecs  number
   ,constraint wt_test_run_stats_pk primary key (test_run_id)
   ,constraint wt_test_run_stats_fk1 foreign key (test_run_id)
       references wt_test_runs (id)
   ) pctfree 0;

comment on table wt_test_run_stats is 'Test Run data statistics for each execution of the WTPLSQL_RUN procedure.';
comment on column wt_test_run_stats.test_run_id is 'Primary (Surrogate) Key for each Test Run. Also the Test Runs foreign key.';
comment on column wt_test_run_stats.test_yield is 'Ratio of successful assertions to total assertions.';
comment on column wt_test_run_stats.asserts is 'Total number of assetions.';
comment on column wt_test_run_stats.passes is 'Number of passed assertions.';
comment on column wt_test_run_stats.failures is 'Number of failed assertions.';
comment on column wt_test_run_stats.errors is 'Number of errored assertions.';
comment on column wt_test_run_stats.testcases is 'Total number of test cases.';
comment on column wt_test_run_stats.min_interval_msecs is 'Minimum interval time between assertions in milliseconds';
comment on column wt_test_run_stats.avg_interval_msecs is 'Average interval time between assertions in milliseconds';
comment on column wt_test_run_stats.max_interval_msecs is 'Maximum interval time between assertions in milliseconds';
comment on column wt_test_run_stats.tot_interval_msecs is 'Total (Sum) of interval times between assertions in milliseconds';
comment on column wt_test_run_stats.code_coverage is 'Ratio of execute source lines to valid executable source lines.';
comment on column wt_test_run_stats.profiled_lines is 'Total number of source lines as counted by DBMS_PROFILER';
comment on column wt_test_run_stats.executed_lines is 'Number of source lines executed';
comment on column wt_test_run_stats.ignored_lines is 'Number of source lines ignored as uncountable';
comment on column wt_test_run_stats.excluded_lines is 'Number of source lines excluded due to unexplained DBMS_PROFILER metrics';
comment on column wt_test_run_stats.notexec_lines is 'Number of source lines not execute';
comment on column wt_test_run_stats.unknown_lines is 'Number of source lines that have unexplained DBMS_PROFILER metrics';
comment on column wt_test_run_stats.min_executed_usecs is 'Minumum execution time for a line of source in microseconds';
comment on column wt_test_run_stats.avg_executed_usecs is 'Average execution time for a line of source in microseconds';
comment on column wt_test_run_stats.max_executed_usecs is 'Maximum execution time for a line of source in microseconds';
comment on column wt_test_run_stats.tot_executed_usecs is 'Total (Sum) of execution times for a line of source in microseconds';

grant select on wt_test_run_stats to public;
grant delete on wt_test_run_stats to public;
