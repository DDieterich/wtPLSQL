
--
--  Results Table Installation
--

create global temporary table wt_results
   (test_run_id    number(38)     constraint wt_results_nn2 not null
   ,result_seq     number(8)      constraint wt_results_nn3 not null
   ,executed_dtm   timestamp(6)   constraint wt_results_nn4 not null
   ,elapsed_msecs  number(10,3)   constraint wt_results_nn5 not null
   ,assertion      varchar2(15)   constraint wt_results_nn6 not null
   ,status         varchar2(4)    constraint wt_results_nn7 not null
   ,details        varchar2(4000) constraint wt_results_nn8 not null
   ,testcase       varchar2(30)
   ,message        varchar2(50)
   ,constraint wt_results_pk primary key (test_run_id, result_seq)
   --,constraint wt_results_fk1 foreign key (test_run_id)
   --    references test_runs (id)
   ,constraint wt_results_ck1 check (status in ('PASS','FAIL'))
   ) on commit preserve rows;

comment on table wt_results is 'Results data from Test Runs.';
comment on column wt_results.test_run_id is 'Foreign Key for the Test Run, Primary Key part 1.';
comment on column wt_results.result_seq is 'Sequence number for this Result, Primary Key part 2.';
comment on column wt_results.executed_dtm is 'Date/Time (with Fractional Seconds) this Result was captured';
comment on column wt_results.elapsed_msecs is 'Elapsed time in milliseonds since the previous Result or start ot the Test Run.';
comment on column wt_results.assertion is 'Name of the Assertion Test performed';
comment on column wt_results.status is 'Passed/Failed Status from the Assertion';
comment on column wt_results.details is 'Assertion Details, i.e. Expected Value and Actual Value';
comment on column wt_results.testcase is 'Optional Test Case name.';
comment on column wt_results.message is 'Optional test identifier that helps connect an Assertion to the Test Runner.';

grant select on wt_results to public;
grant insert on wt_results to public;
